<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Medi-Solutions Retirement Budget Planner</title>

<style>
  :root{
    --blue:#1f2a75;
    --bg:#f4f6fa;
    --card:#ffffff;
    --line:#e0e4ef;
    --muted:#6b7280;
    --good:#0a7a3b;
    --bad:#c62828;
  }

  *{ box-sizing:border-box; }

  body{
    margin:0;
    font-family: Arial, Helvetica, sans-serif;
    background:var(--bg);
    color:#1a1f36;
  }

  .container{
    max-width: 980px;
    margin: 28px auto;
    background: var(--card);
    padding: 26px;
    border-radius: 14px;
    box-shadow: 0 10px 30px rgba(0,0,0,.08);
  }

  header{
    text-align:center;
    margin-bottom: 18px;
  }

  /* BIGGER LOGO */
  .logo{
    width: min(820px, 100%);
    height: auto;
    display:block;
    margin: 0 auto 12px;
  }

  h1{
    margin: 6px 0 0;
    font-size: 24px;
    color: var(--blue);
  }

  .subtitle{
    margin: 6px 0 0;
    color: var(--muted);
    font-size: 14px;
  }

  .section{
    margin-top: 26px;
    padding-top: 10px;
    border-top: 1px solid var(--line);
  }

  .section-title{
    display:flex;
    align-items:baseline;
    justify-content:space-between;
    gap:12px;
    margin: 0 0 12px;
  }

  .section-title h2{
    margin:0;
    font-size: 18px;
    color: var(--blue);
  }

  .section-title .tag{
    font-size: 12px;
    color: var(--muted);
  }

  /* UNIFORM STACKED LIST */
  .list{
    display:flex;
    flex-direction:column;
    gap: 12px;
  }

  .item{
    border: 1px solid var(--line);
    border-radius: 12px;
    padding: 12px;
    background: #fbfcff;
  }

  .item label{
    display:block;
    font-size: 12px;
    color: var(--muted);
    margin-bottom: 6px;
  }

  .item input[type="text"],
  .item input[type="number"]{
    width:100%;
    padding: 10px 10px;
    border-radius: 10px;
    border: 1px solid #cfd5e6;
    outline:none;
    font-size: 14px;
    background:white;
  }

  .item input[type="number"]{
    margin-top: 10px;
  }

  .item-actions{
    display:flex;
    justify-content:flex-end;
    margin-top: 10px;
  }

  .btn{
    padding: 9px 12px;
    border: none;
    background: var(--blue);
    color: white;
    border-radius: 10px;
    cursor: pointer;
    font-size: 13px;
  }
  .btn:hover{ background:#15205a; }

  .btn.secondary{
    background: #e9ecf7;
    color: var(--blue);
    border: 1px solid #cfd5e6;
  }
  .btn.secondary:hover{ background:#dde3fb; }

  .btn.danger{
    background: #ffe9e9;
    color: #8b1a1a;
    border: 1px solid #ffcccc;
  }
  .btn.danger:hover{ background:#ffdcdc; }

  .btn-row{
    margin-top: 12px;
    display:flex;
    gap:10px;
    flex-wrap:wrap;
  }

  /* SUMMARY */
  .summary{
    margin-top: 22px;
    padding: 16px;
    border-radius: 12px;
    background: #eef2ff;
    border: 1px solid #d6dcff;
  }

  .summary .row{
    display:flex;
    justify-content:space-between;
    gap:12px;
    padding: 6px 0;
    font-size: 16px;
  }

  .summary .row strong{ color: var(--blue); }

  .net{
    font-weight: 800;
  }
  .net.positive{ color: var(--good); }
  .net.negative{ color: var(--bad); }

  .note{
    margin-top: 14px;
    font-size: 12px;
    color: #555;
    line-height: 1.4;
  }

  .notes-box{
    margin-top: 14px;
  }
  .notes-box label{
    display:block;
    font-size: 12px;
    color: var(--muted);
    margin-bottom: 6px;
  }
  .notes-box input{
    width:100%;
    padding: 10px 10px;
    border-radius: 10px;
    border: 1px solid #cfd5e6;
    font-size: 14px;
  }
</style>
</head>

<body>
  <div class="container">
    <header>
      <!-- Uses your repo file: medi-solutions-logo.png -->
      <img class="logo" src="medi-solutions-logo.png" alt="Medi-Solutions Insurance Agency, LLC Logo" />
      <h1>Retirement Income & Expense Planner</h1>
      <p class="subtitle">Money in / money out with auto-calculations â€¢ client-fillable</p>
    </header>

    <!-- MONEY IN -->
    <div class="section">
      <div class="section-title">
        <h2>Money In (Monthly)</h2>
        <div class="tag">Enter monthly amounts</div>
      </div>

      <div id="incomeList" class="list"></div>

      <div class="btn-row">
        <button class="btn" type="button" id="addIncomeBtn">+ Add Income Line</button>
      </div>
    </div>

    <!-- MONEY OUT -->
    <div class="section">
      <div class="section-title">
        <h2>Money Out (Monthly)</h2>
        <div class="tag">Includes IRMAA, travel, unforeseen family expenses</div>
      </div>

      <div id="expenseList" class="list"></div>

      <div class="btn-row">
        <button class="btn" type="button" id="addExpenseBtn">+ Add Expense Line</button>
      </div>
    </div>

    <!-- SUMMARY -->
    <div class="summary">
      <div class="row">
        <span><strong>Total Income</strong></span>
        <span>$<span id="totalIncome">0</span></span>
      </div>
      <div class="row">
        <span><strong>Total Expenses</strong></span>
        <span>$<span id="totalExpense">0</span></span>
      </div>
      <div class="row">
        <span><strong>Net Monthly Cash Flow</strong></span>
        <span class="net" id="netResult">$0</span>
      </div>
    </div>

    <div class="notes-box">
      <label for="clientNotes">Client notes (optional)</label>
      <input id="clientNotes" type="text" placeholder="Example: 2 big trips/year, helping grandkids, roof in 3 years..." />
    </div>

    <div class="note">
      This tool is for planning purposes only and does not constitute tax or legal advice.
      Medicare costs vary by plan and income. IRMAA depends on modified adjusted gross income.
    </div>

    <div class="btn-row">
      <button class="btn secondary" type="button" id="resetBtn">Reset to Defaults</button>
      <button class="btn secondary" type="button" onclick="window.print()">Print / Save PDF</button>
    </div>
  </div>

<script>
  const fmt = new Intl.NumberFormat(undefined, { maximumFractionDigits: 0 });

  function toNumber(v){
    const n = Number(String(v ?? "").replace(/[^0-9.-]/g,""));
    return Number.isFinite(n) ? n : 0;
  }

  function createStackedItem(container, labelValue, amountValue, onChange){
    const wrap = document.createElement("div");
    wrap.className = "item";

    const lbl1 = document.createElement("label");
    lbl1.textContent = "Item";

    const name = document.createElement("input");
    name.type = "text";
    name.value = labelValue || "";
    name.placeholder = "Enter item (example: Social Security, Pension, Travel...)";
    name.addEventListener("input", onChange);

    const lbl2 = document.createElement("label");
    lbl2.style.marginTop = "10px";
    lbl2.textContent = "Amount ($ per month)";

    const amt = document.createElement("input");
    amt.type = "number";
    amt.step = "1";
    amt.min = "0";
    amt.value = amountValue ?? 0;
    amt.addEventListener("input", onChange);

    const actions = document.createElement("div");
    actions.className = "item-actions";

    const removeBtn = document.createElement("button");
    removeBtn.type = "button";
    removeBtn.className = "btn danger";
    removeBtn.textContent = "Remove";
    removeBtn.addEventListener("click", () => {
      wrap.remove();
      onChange();
    });

    actions.appendChild(removeBtn);

    wrap.appendChild(lbl1);
    wrap.appendChild(name);
    wrap.appendChild(lbl2);
    wrap.appendChild(amt);
    wrap.appendChild(actions);

    container.appendChild(wrap);
  }

  function sumList(listId){
    const list = document.getElementById(listId);
    let total = 0;
    list.querySelectorAll('.item input[type="number"]').forEach(inp => {
      total += toNumber(inp.value);
    });
    return total;
  }

  function calculate(){
    const incomeTotal = sumList("incomeList");
    const expenseTotal = sumList("expenseList");
    const net = incomeTotal - expenseTotal;

    document.getElementById("totalIncome").textContent = fmt.format(incomeTotal);
    document.getElementById("totalExpense").textContent = fmt.format(expenseTotal);

    const netEl = document.getElementById("netResult");
    netEl.textContent = "$" + fmt.format(net);
    netEl.classList.remove("positive","negative");
    netEl.classList.add(net >= 0 ? "positive" : "negative");
  }

  function seedDefaults(){
    const incomeDefaults = [
      "Social Security (You)",
      "Social Security (Spouse)",
      "Pension Income",
      "Annuity Income",
      "Investment Withdrawals (RMD/IRA)",
      "Rental Income"
    ];

    const expenseDefaults = [
      "Housing (Mortgage/Rent/HOA)",
      "Utilities (Electric/Gas/Water/Internet)",
      "Groceries & Household",
      "Transportation (Fuel/Insurance/Maintenance)",
      "Medicare Premiums (Part B/Plan/Medigap/MA)",
      "IRMAA (Income Related Monthly Adjustment Amount)",
      "Out-of-Pocket Medical & Prescriptions",
      "Travel & Vacations",
      "Long-Term Care Planning / Caregiving",
      "Unforeseen Family Expenses (Cushion)"
    ];

    const incomeList = document.getElementById("incomeList");
    const expenseList = document.getElementById("expenseList");
    incomeList.innerHTML = "";
    expenseList.innerHTML = "";

    incomeDefaults.forEach(item => createStackedItem(incomeList, item, 0, calculate));
    expenseDefaults.forEach(item => createStackedItem(expenseList, item, 0, calculate));

    document.getElementById("clientNotes").value = "";
    calculate();
  }

  // Buttons
  document.getElementById("addIncomeBtn").addEventListener("click", () => {
    createStackedItem(document.getElementById("incomeList"), "", 0, calculate);
    calculate();
  });

  document.getElementById("addExpenseBtn").addEventListener("click", () => {
    createStackedItem(document.getElementById("expenseList"), "", 0, calculate);
    calculate();
  });

  document.getElementById("resetBtn").addEventListener("click", seedDefaults);

  // Init
  seedDefaults();
</script>
</body>
</html>
